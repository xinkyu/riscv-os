# 从零构建操作系统

本专案是武汉大学《操作系统实践A》课程的成果。
目标是从零开始，基于 RISC-V 架构，逐步实现一个迷你的操作系统核心。

## 目前完成进度

* **实验 1**: RISC-V 引导与裸机启动
    * 实现了基本的汇编语言启动程序 (`entry.S`)。
    * 建立了 C 语言执行环境并设置了堆栈。
    * 实现了简化的 UART 驱动，可在 QEMU 中输出 "Hello OS"。
* **实验 2**: 内核 printf 与清屏功能实现
    * 实现了支持 `%d`、`%x`、`%s`、`%c`、`%%` 的 `printf` 函数。
    * 实现了基于 ANSI 转义序列的清屏功能。
* **实验 3**: 页表与内存管理
    * 实现了一个页式物理内存分配器 (`kalloc.c`)。
    * 实现了 RISC-V Sv39 页表管理机制，包括页表的创建和地址映射 (`vm.c`)。
    * 成功创建了内核页表，并将内核代码、数据和设备内存映射到虚拟地址空间。
    * 成功激活了 MMU，使内核在虚拟内存环境下稳定运行。

## 开发环境

* **操作系统**: Ubuntu 22.04 LTS
* **工具链**: riscv64-unknown-elf-gcc
* **模拟器**: QEMU (qemu-system-riscv64)

## 编译与执行

1.  **编译内核**：
    ```bash
    make
    ```

2.  **在 QEMU 中执行**：
    ```bash
    make run
    ```